<!-- use the urls_index.ejs template to display all the URLs and their shortened forms -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link rel="stylesheet" href="/static/css/body.css" />
    <title>TinyApp</title>
  </head>

  <body>
    <%- include('partials/_header', {user: user}) %>
    <main style="margin: 1em">
      <h3>My URLs</h3>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Short URL</th>
            <th scope="col">Long URL</th>
            <th scope="col">Edit</th>
            <th scope="col">Delete</th>
          </tr>
        </thead>
        <tbody>
          <% for(let url in urls) { %>
          <tr>
            <td><a href="<%= urls[url].longURL %>"><%= url %></a></td>
            <td>
              <a href="<%= urls[url].longURL %>"><%= urls[url].longURL %> </a>
            </td>
            <td>
              <a href="/urls/<%= url %>"><button class="btn">edit</button></a>
            </td>
            <td>
              <form method="POST" action="/urls/<%= url %>/delete">
                <button type="submit" class="btn btn-danger">delete</button>
              </form>
            </td>
          </tr>
          <% } %>
        </tbody>
      </table>
    </main>
  </body>
</html>
